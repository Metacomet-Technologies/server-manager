import{j as e,x as t,S as c}from"./app2.js";import{L as x}from"./Layout.js";function l({title:s,value:r,icon:i,color:a="blue",clickable:o=!1}){const n={blue:"bg-blue-500",green:"bg-green-500",indigo:"bg-indigo-500",purple:"bg-purple-500",red:"bg-red-500",yellow:"bg-yellow-500"},d=n[a]||n.blue;return e.jsx("div",{className:`bg-white overflow-hidden shadow rounded-lg ${o?"cursor-pointer hover:shadow-lg transition-shadow":""}`,children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex-shrink-0 ${d} rounded-md p-3`,children:h(i)}),e.jsxs("div",{className:"ml-5 w-0 flex-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:s}),e.jsx("dd",{className:"text-2xl font-semibold text-gray-900",children:r})]})]})})})}function h(s){const r="h-6 w-6 text-white";switch(s){case"server":return e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})});case"terminal":return e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"plus":return e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})});case"arrow-right":return e.jsx("svg",{className:r,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})});default:return null}}function m({sessions:s}){return!s||s.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No active sessions"})}):e.jsx("ul",{className:"divide-y divide-gray-200",children:s.map(r=>e.jsx("li",{children:e.jsx(t,{href:route("server-manager.terminal",r.id),className:"block hover:bg-gray-50 px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:`inline-block h-2 w-2 rounded-full ${r.is_active?"bg-green-400":"bg-gray-400"}`})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name||`Session on ${r.server.name}`}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.server.username,"@",r.server.host,r.server.port!==22&&`:${r.server.port}`]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm text-gray-500",children:r.last_activity_at?e.jsxs("span",{children:["Active ",u(r.last_activity_at)]}):e.jsx("span",{children:"Never used"})}),e.jsx("svg",{className:"ml-2 h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})},r.id))})}function u(s){const r=new Date(s),a=Math.floor((new Date-r)/1e3);return a<60?"just now":a<3600?`${Math.floor(a/60)}m ago`:a<86400?`${Math.floor(a/3600)}h ago`:`${Math.floor(a/86400)}d ago`}function j({stats:s,recentSessions:r}){return e.jsxs(x,{children:[e.jsx(c,{title:"Dashboard"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Server Manager Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(l,{title:"Total Servers",value:s.servers,icon:"server",color:"blue"}),e.jsx(l,{title:"Active Sessions",value:s.activeSessions,icon:"terminal",color:"green"}),e.jsx(t,{href:route("server-manager.servers.create"),children:e.jsx(l,{title:"Add Server",value:"+",icon:"plus",color:"indigo",clickable:!0})}),e.jsx(t,{href:route("server-manager.sessions.index"),children:e.jsx(l,{title:"View All Sessions",value:"â†’",icon:"arrow-right",color:"purple",clickable:!0})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Recent Sessions"})}),e.jsx(m,{sessions:r})]})]})})]})}export{j as default};
