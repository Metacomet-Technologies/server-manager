import{G as o,j as e,S as x,x as n}from"./app2.js";import{L as m}from"./Layout.js";function j({servers:r,localServerEnabled:i}){const{delete:a,processing:d}=o(),c=s=>{confirm(`Are you sure you want to delete ${s.name}?`)&&a(route("server-manager.servers.destroy",s.id))},l=s=>{fetch(route("server-manager.servers.test-connection",s.id),{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content,Accept:"application/json"}}).then(t=>t.json()).then(t=>{alert(t.success?"Connection successful!":`Connection failed: ${t.message}`)})};return e.jsxs(m,{children:[e.jsx(x,{title:"Servers"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Servers"}),e.jsx(n,{href:route("server-manager.servers.create"),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Server"})]}),e.jsxs("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:[i&&e.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:e.jsx(n,{href:route("server-manager.sessions.create",{server_id:"local"}),className:"block px-4 py-4 sm:px-6 hover:bg-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-600 truncate",children:"Local Server"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Access the server this application is running on"})]}),e.jsx("div",{className:"ml-2 flex-shrink-0",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:"Available"})})]})})}),e.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(s=>e.jsx("li",{children:e.jsx("div",{className:"px-4 py-4 sm:px-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s.name}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[s.username,"@",s.host,s.port!==22&&`:${s.port}`]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>l(s),className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Test"}),e.jsx(n,{href:route("server-manager.sessions.create",{server_id:s.id}),className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Connect"}),e.jsx(n,{href:route("server-manager.servers.edit",s.id),className:"text-sm text-indigo-600 hover:text-indigo-900",children:"Edit"}),e.jsx("button",{onClick:()=>c(s),disabled:d,className:"text-sm text-red-600 hover:text-red-900",children:"Delete"})]})]})})},s.id))}),r.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No servers configured yet."})})]})]})})]})}export{j as default};
